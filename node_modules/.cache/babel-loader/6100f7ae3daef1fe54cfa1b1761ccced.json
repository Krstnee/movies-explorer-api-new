{"ast":null,"code":"import{useEffect}from'react';import{Link}from'react-router-dom';import useFormAndValidation from'../hooks/useFormAndValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EntryForm(props){var linkText=props.linkText,linkTarget=props.linkTarget,buttonText=props.buttonText,onSubmit=props.onSubmit,title=props.title,navigate=props.navigate;var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,resetForm=_useFormAndValidation.resetForm;function handleSubmitRequest(e){e.preventDefault();onSubmit(values.email,values.password);}useEffect(function(){resetForm();},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"entry-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"entry-form__title\",children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"entry-form__form\",onSubmit:handleSubmitRequest,noValidate:true,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,minLength:2,maxLength:100,placeholder:\"email\",className:\"entry-form__input\",value:values.email?values.email:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"entry-form__input-error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",minLength:2,maxLength:100,required:true,placeholder:\"password\",className:\"entry-form__input\",value:values.password?values.password:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"p\",{className:\"entry-form__input-error\",children:errors.password}),/*#__PURE__*/_jsx(\"button\",{className:\"entry-form__button responsible-fade\",disabled:!isValid,children:buttonText})]}),title==='Регистрация'&&/*#__PURE__*/_jsxs(\"p\",{className:\"entry-form__prompt\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\",' ',/*#__PURE__*/_jsx(Link,{to:linkTarget,className:\"entry-form__prompt-link responsible-fade\",children:linkText})]})]});}","map":{"version":3,"names":["useEffect","Link","useFormAndValidation","EntryForm","props","linkText","linkTarget","buttonText","onSubmit","title","navigate","values","handleChange","errors","isValid","resetForm","handleSubmitRequest","e","preventDefault","email","password"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/EntryForm.js"],"sourcesContent":["import { useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport useFormAndValidation from '../hooks/useFormAndValidation'\n\nexport default function EntryForm(props) {\n  const { linkText, linkTarget, buttonText, onSubmit, title, navigate } = props\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormAndValidation()\n\n  function handleSubmitRequest(e) {\n    e.preventDefault()\n    onSubmit(values.email, values.password)\n  }\n\n  useEffect(() => {\n    resetForm()\n  }, [navigate])\n\n  return (\n    <div className=\"entry-form\">\n      <h2 className=\"entry-form__title\">{title}</h2>\n      <form\n        className=\"entry-form__form\"\n        onSubmit={handleSubmitRequest}\n        noValidate\n      >\n        <input\n          type=\"email\"\n          name=\"email\"\n          required\n          minLength={2}\n          maxLength={100}\n          placeholder=\"email\"\n          className=\"entry-form__input\"\n          value={values.email ? values.email : ''}\n          onChange={handleChange}\n        />\n        <p className=\"entry-form__input-error\">{errors.email}</p>\n        <input\n          type=\"password\"\n          name=\"password\"\n          minLength={2}\n          maxLength={100}\n          required\n          placeholder=\"password\"\n          className=\"entry-form__input\"\n          value={values.password ? values.password : ''}\n          onChange={handleChange}\n        />\n        <p className=\"entry-form__input-error\">{errors.password}</p>\n        <button\n          className=\"entry-form__button responsible-fade\"\n          disabled={!isValid}\n        >\n          {buttonText}\n        </button>\n      </form>\n      {title === 'Регистрация' && (\n        <p className=\"entry-form__prompt\">\n          Уже зарегистрированы?{' '}\n          <Link\n            to={linkTarget}\n            className=\"entry-form__prompt-link responsible-fade\"\n          >\n            {linkText}\n          </Link>\n        </p>\n      )}\n    </div>\n  )\n}\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,qBAAP,KAAiC,+BAAjC,C,wFAEA,cAAe,SAASC,UAAT,CAAmBC,KAAnB,CAA0B,CACvC,GAAQC,SAAR,CAAwED,KAAxE,CAAQC,QAAR,CAAkBC,UAAlB,CAAwEF,KAAxE,CAAkBE,UAAlB,CAA8BC,UAA9B,CAAwEH,KAAxE,CAA8BG,UAA9B,CAA0CC,QAA1C,CAAwEJ,KAAxE,CAA0CI,QAA1C,CAAoDC,KAApD,CAAwEL,KAAxE,CAAoDK,KAApD,CAA2DC,QAA3D,CAAwEN,KAAxE,CAA2DM,QAA3D,CAEA,0BACER,oBAAoB,EADtB,CAAQS,MAAR,uBAAQA,MAAR,CAAgBC,YAAhB,uBAAgBA,YAAhB,CAA8BC,MAA9B,uBAA8BA,MAA9B,CAAsCC,OAAtC,uBAAsCA,OAAtC,CAA+CC,SAA/C,uBAA+CA,SAA/C,CAGA,QAASC,oBAAT,CAA6BC,CAA7B,CAAgC,CAC9BA,CAAC,CAACC,cAAF,GACAV,QAAQ,CAACG,MAAM,CAACQ,KAAR,CAAeR,MAAM,CAACS,QAAtB,CAAR,CACD,CAEDpB,SAAS,CAAC,UAAM,CACde,SAAS,GACV,CAFQ,CAEN,CAACL,QAAD,CAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,WAAI,SAAS,CAAC,mBAAd,UAAmCD,KAAnC,EADF,cAEE,cACE,SAAS,CAAC,kBADZ,CAEE,QAAQ,CAAEO,mBAFZ,CAGE,UAAU,KAHZ,wBAKE,cACE,IAAI,CAAC,OADP,CAEE,IAAI,CAAC,OAFP,CAGE,QAAQ,KAHV,CAIE,SAAS,CAAE,CAJb,CAKE,SAAS,CAAE,GALb,CAME,WAAW,CAAC,OANd,CAOE,SAAS,CAAC,mBAPZ,CAQE,KAAK,CAAEL,MAAM,CAACQ,KAAP,CAAeR,MAAM,CAACQ,KAAtB,CAA8B,EARvC,CASE,QAAQ,CAAEP,YATZ,EALF,cAgBE,UAAG,SAAS,CAAC,yBAAb,UAAwCC,MAAM,CAACM,KAA/C,EAhBF,cAiBE,cACE,IAAI,CAAC,UADP,CAEE,IAAI,CAAC,UAFP,CAGE,SAAS,CAAE,CAHb,CAIE,SAAS,CAAE,GAJb,CAKE,QAAQ,KALV,CAME,WAAW,CAAC,UANd,CAOE,SAAS,CAAC,mBAPZ,CAQE,KAAK,CAAER,MAAM,CAACS,QAAP,CAAkBT,MAAM,CAACS,QAAzB,CAAoC,EAR7C,CASE,QAAQ,CAAER,YATZ,EAjBF,cA4BE,UAAG,SAAS,CAAC,yBAAb,UAAwCC,MAAM,CAACO,QAA/C,EA5BF,cA6BE,eACE,SAAS,CAAC,qCADZ,CAEE,QAAQ,CAAE,CAACN,OAFb,UAIGP,UAJH,EA7BF,GAFF,CAsCGE,KAAK,GAAK,aAAV,eACC,WAAG,SAAS,CAAC,oBAAb,kIACwB,GADxB,cAEE,KAAC,IAAD,EACE,EAAE,CAAEH,UADN,CAEE,SAAS,CAAC,0CAFZ,UAIGD,QAJH,EAFF,GAvCJ,GADF,CAoDD"},"metadata":{},"sourceType":"module"}