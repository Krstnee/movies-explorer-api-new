{"ast":null,"code":"import _slicedToArray from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'../images/logo.svg';import{useState,useEffect}from'react';import closeIcon from'../images/close-icon.svg';import burgerButton from'../images/burgerButton.svg';import CurrentUserContext from'../contexts.js/CurrentUserContext';import{Routes,Route,useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(props){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTopBarOpen=_useState2[0],setIsTopBarOpen=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLogged=_useState6[0],setIsLogged=_useState6[1];function handleLogout(){var token=localStorage.getItem('token');if(!token)return;localStorage.removeItem('token');setIsLogged(false);navigate('/sign-in');}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar \".concat(isTopBarOpen&&'top-bar_active'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__link\",children:currentUser.email}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"header__link header__link_style_fade responsible-fade\",onClick:handleLogout,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\\u044F \\u041C\\u0435\\u0441\\u0442\\u043E.\",className:\"header__logo\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__link\",children:currentUser.email}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"header__link header__link_style_fade responsible-fade\",onClick:handleLogout,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"header__button responsible-fade\",onClick:function onClick(){return setIsTopBarOpen(!isTopBarOpen);},children:/*#__PURE__*/_jsx(\"img\",{className:\"header__button-picture \".concat(isTopBarOpen&&'header__button-picture_small'),src:isTopBarOpen?closeIcon:burgerButton})})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"header__link responsible-fade\",children:'Войти'})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"header__link responsible-fade\",children:'Зарегистрироваться'})})]})]})});}","map":{"version":3,"names":["logo","useState","useEffect","closeIcon","burgerButton","CurrentUserContext","Routes","Route","useNavigate","Link","Header","props","navigate","isTopBarOpen","setIsTopBarOpen","currentUser","setCurrentUser","isLogged","setIsLogged","handleLogout","token","localStorage","getItem","removeItem","email"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/Header.js"],"sourcesContent":["import logo from '../images/logo.svg'\nimport { useState, useEffect } from 'react'\nimport closeIcon from '../images/close-icon.svg'\nimport burgerButton from '../images/burgerButton.svg'\nimport CurrentUserContext from '../contexts.js/CurrentUserContext'\nimport { Routes, Route, useNavigate, Link } from 'react-router-dom'\n\n\n\nexport default function Header(props) {\n  const navigate = useNavigate();\n  const [isTopBarOpen, setIsTopBarOpen] = useState(false)\n  const [currentUser, setCurrentUser] = useState({})\n  const [isLogged, setIsLogged] = useState(false)\n\n  function handleLogout() {\n    const token = localStorage.getItem('token')\n    if (!token) return\n    localStorage.removeItem('token')\n    setIsLogged(false)\n    navigate('/sign-in')\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <header className=\"header\">\n      <div className={`top-bar ${isTopBarOpen && 'top-bar_active'}`}>\n            <span className=\"header__link\">{currentUser.email}</span>\n            <a\n              href=\"#\"\n              className=\"header__link header__link_style_fade responsible-fade\"\n              onClick={handleLogout}\n            >\n              Выйти\n            </a>\n          </div>\n      <img\n        src={logo}\n        alt=\"Логотип приложениея Место.\"\n        className=\"header__logo\"\n      />\n      <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  <>\n                    <div className=\"header__user-info\">\n                      <span className=\"header__link\">{currentUser.email}</span>\n                      <a\n                        href=\"#\"\n                        className=\"header__link header__link_style_fade responsible-fade\"\n                        onClick={handleLogout}\n                      >\n                        Выйти\n                      </a>\n                    </div>\n                    <button\n                      className=\"header__button responsible-fade\"\n                      onClick={() => setIsTopBarOpen(!isTopBarOpen)}\n                    >\n                      <img\n                        className={`header__button-picture ${\n                          isTopBarOpen && 'header__button-picture_small'\n                        }`}\n                        src={isTopBarOpen ? closeIcon : burgerButton}\n                      />\n                    </button>\n                  </>\n                }\n              />\n              <Route\n                path=\"/sign-up\"\n                element={\n                  <Link to=\"/sign-in\" className=\"header__link responsible-fade\">\n                    {'Войти'}\n                  </Link>\n                }\n              />\n              <Route\n                path=\"/sign-in\"\n                element={\n                  <Link to=\"/sign-up\" className=\"header__link responsible-fade\">\n                    {'Зарегистрироваться'}\n                  </Link>\n                }\n              />\n            </Routes>\n      </header>\n    </CurrentUserContext.Provider>\n    \n  )\n}\n"],"mappings":"gIAAA,MAAOA,KAAP,KAAiB,oBAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,UAAP,KAAsB,0BAAtB,CACA,MAAOC,aAAP,KAAyB,4BAAzB,CACA,MAAOC,mBAAP,KAA+B,mCAA/B,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,WAAxB,CAAqCC,IAArC,KAAiD,kBAAjD,C,6IAIA,cAAe,SAASC,OAAT,CAAgBC,KAAhB,CAAuB,CACpC,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,cAAwCP,QAAQ,CAAC,KAAD,CAAhD,wCAAOY,YAAP,eAAqBC,eAArB,eACA,eAAsCb,QAAQ,CAAC,EAAD,CAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eACA,eAAgCf,QAAQ,CAAC,KAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,QAASC,aAAT,EAAwB,CACtB,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAI,CAACF,KAAL,CAAY,OACZC,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACAL,WAAW,CAAC,KAAD,CAAX,CACAN,QAAQ,CAAC,UAAD,CAAR,CACD,CAED,mBACE,KAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAEG,WAApC,uBACE,gBAAQ,SAAS,CAAC,QAAlB,wBACA,aAAK,SAAS,mBAAaF,YAAY,EAAI,gBAA7B,CAAd,wBACM,aAAM,SAAS,CAAC,cAAhB,UAAgCE,WAAW,CAACS,KAA5C,EADN,cAEM,UACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAEL,YAHX,4CAFN,GADA,cAWA,YACE,GAAG,CAAEnB,IADP,CAEE,GAAG,CAAC,+IAFN,CAGE,SAAS,CAAC,cAHZ,EAXA,cAgBA,MAAC,MAAD,yBACQ,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cACL,wCACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAM,SAAS,CAAC,cAAhB,UAAgCe,WAAW,CAACS,KAA5C,EADF,cAEE,UACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAEL,YAHX,4CAFF,GADF,cAWE,eACE,SAAS,CAAC,iCADZ,CAEE,OAAO,CAAE,yBAAML,gBAAe,CAAC,CAACD,YAAF,CAArB,EAFX,uBAIE,YACE,SAAS,kCACPA,YAAY,EAAI,8BADT,CADX,CAIE,GAAG,CAAEA,YAAY,CAAGV,SAAH,CAAeC,YAJlC,EAJF,EAXF,GAHJ,EADR,cA6BQ,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,+BAA9B,UACG,OADH,EAHJ,EA7BR,cAqCQ,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,+BAA9B,UACG,oBADH,EAHJ,EArCR,GAhBA,GADF,EADF,CAoED"},"metadata":{},"sourceType":"module"}