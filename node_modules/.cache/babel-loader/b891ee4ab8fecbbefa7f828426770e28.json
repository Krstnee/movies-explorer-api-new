{"ast":null,"code":"import _classCallCheck from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;this._headers=options.headers;}_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._url,\"users/me\"),{headers:this._headers}).then(this._getResponse);}},{key:\"sendProfile\",value:function sendProfile(name,about){return fetch(\"\".concat(this._url,\"users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._getResponse);}},{key:\"sendAvatar\",value:function sendAvatar(avatar){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._getResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"cards\"),{headers:this._headers}).then(this._getResponse);}},{key:\"sendNewCard\",value:function sendNewCard(name,link){return fetch(\"\".concat(this._url,\"cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._getResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._getResponse);}},{key:\"addLike\",value:function addLike(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._getResponse);}},{key:\"deleteLike\",value:function deleteLike(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._getResponse);}}]);return Api;}();export{Api as default};export var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-44/',headers:{authorization:'014df413-4e9e-4287-b23d-e54c9c172682','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","options","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponse","name","about","method","body","JSON","stringify","avatar","link","id","api","authorization"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["export default class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getProfile() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  sendProfile(name, about) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._getResponse);\n  }\n\n  sendAvatar(avatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._getResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  sendNewCard(name, link) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._getResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json',\n  },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}