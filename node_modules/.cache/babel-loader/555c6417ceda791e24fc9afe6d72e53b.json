{"ast":null,"code":"import _slicedToArray from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import avatar from'./../images/profile-avatar.jpg';import{api}from'../utils/Api.js';import React from'react';import Card from'./Card';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCard=_ref.onCard;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];var _React$useState9=React.useState(true),_React$useState10=_slicedToArray(_React$useState9,2),loading=_React$useState10[0],setLoading=_React$useState10[1];// const [err, setError] = React.useState('');\nReact.useEffect(function(){setLoading(true);api.getProfile().then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);}).catch(function(err){// setError(err.message);\nconsole.log(err);}).finally(function(){setLoading(false);});api.getInitialCards().then(function(res){setCards(res);}).catch(function(err){// setError(err.message);\nconsole.log(err);}).finally(function(){setLoading(false);});},[]);// if (err) {\n//   return <h1>ERROR:{err}</h1>;\n// }\nreturn/*#__PURE__*/_jsx(\"main\",{className:\"content\",children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-wrapper\",onClick:onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar||avatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__info-name\",children:userName||'Мария Захарова'}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-job\",children:userDescription||'Студент'})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-buttton\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"gallery\",\"aria-label\":\"\\u0413\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"gallery__cards\",children:cards.map(function(item){return/*#__PURE__*/_jsx(Card,{cardItem:item,onCardClick:onCard},item._id);})})})]})});}export default Main;","map":{"version":3,"names":["avatar","api","React","Card","Spinner","Main","onEditAvatar","onEditProfile","onAddPlace","onCard","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","loading","setLoading","useEffect","getProfile","then","res","name","about","catch","err","console","log","finally","getInitialCards","map","item","_id"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/Main.js"],"sourcesContent":["import avatar from './../images/profile-avatar.jpg';\nimport { api } from '../utils/Api.js';\nimport React from 'react';\nimport Card from './Card';\nimport Spinner from './Spinner';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCard }) {\n  const [userName, setUserName] = React.useState('');\n  const [userDescription, setUserDescription] = React.useState('');\n  const [userAvatar, setUserAvatar] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [loading, setLoading] = React.useState(true);\n  // const [err, setError] = React.useState('');\n\n  React.useEffect(() => {\n    setLoading(true);\n    api\n      .getProfile()\n      .then((res) => {\n        setUserName(res.name);\n        setUserDescription(res.about);\n        setUserAvatar(res.avatar);\n      })\n      .catch((err) => {\n        // setError(err.message);\n        console.log(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        // setError(err.message);\n        console.log(err);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  // if (err) {\n  //   return <h1>ERROR:{err}</h1>;\n  // }\n\n  return (\n    <main className=\"content\">\n      {loading ? (\n        <Spinner />\n      ) : (\n        <>\n          <section className=\"profile\">\n            <div className=\"profile__avatar-wrapper\" onClick={onEditAvatar}>\n              <img className=\"profile__avatar\" src={userAvatar || avatar} alt=\"Аватар\" />\n            </div>\n            <div className=\"profile__info\">\n              <div className=\"profile__info-wrapper\">\n                <h1 className=\"profile__info-name\">{userName || 'Мария Захарова'}</h1>\n                <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile} />\n              </div>\n              <p className=\"profile__info-job\">{userDescription || 'Студент'}</p>\n            </div>\n            <button className=\"profile__add-buttton\" type=\"button\" onClick={onAddPlace} />\n          </section>\n          <section className=\"gallery\" aria-label=\"Галерея\">\n            <ul className=\"gallery__cards\">\n              {cards.map((item) => (\n                <Card key={item._id} cardItem={item} onCardClick={onCard} />\n              ))}\n            </ul>\n          </section>\n        </>\n      )}\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}