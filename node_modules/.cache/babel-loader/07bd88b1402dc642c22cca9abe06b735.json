{"ast":null,"code":"import _classCallCheck from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._url=options.url;this._headers=options.headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(res.status,\" \").concat(res.statusText));}}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"setProfileInfo\",value:function setProfileInfo(data){return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify(data)}).then(this._checkResponse);}},{key:\"setNewAvatar\",value:function setNewAvatar(_ref){var avatar=_ref.avatar;return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._checkResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(this._checkResponse);}},{key:\"addNewCard\",value:function addNewCard(data){return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify(data)}).then(this._checkResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"_addLike\",value:function _addLike(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._checkResponse);}},{key:\"_deleteLike\",value:function _deleteLike(id){return fetch(\"\".concat(this._url,\"/cards/\").concat(id,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._checkResponse);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){if(!isLiked){return this._addLike(id);}else{return this._deleteLike(id);}}}]);return Api;}();export var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-44/',headers:{authorization:'014df413-4e9e-4287-b23d-e54c9c172682','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","options","_url","url","_headers","headers","res","ok","json","Promise","reject","status","statusText","fetch","then","_checkResponse","data","method","body","JSON","stringify","avatar","id","isLiked","_addLike","_deleteLike","api","authorization"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Ошибка ${res.status} ${res.statusText}`)\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  setProfileInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._checkResponse)\n  }\n\n  setNewAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({ avatar })\n    })\n      .then(this._checkResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._checkResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  _addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  _deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (!isLiked) {\n      return this._addLike(id)\n    } else {\n      return this._deleteLike(id)\n    }\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json',\n  },\n})\n\n\n"],"mappings":"iQAAMA,I,yBACJ,aAAYC,OAAZ,CAAqB,2BACnB,KAAKC,IAAL,CAAYD,OAAO,CAACE,GAApB,CACA,KAAKC,QAAL,CAAgBH,OAAO,CAACI,OAAxB,CACD,C,8CAED,wBAAeC,GAAf,CAAoB,CAClB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEO,CACL,MAAOC,QAAO,CAACC,MAAR,gDAAyBJ,GAAG,CAACK,MAA7B,aAAuCL,GAAG,CAACM,UAA3C,EAAP,CACD,CACF,C,2BAED,sBAAc,CACZ,MAAOC,MAAK,WAAI,KAAKX,IAAT,cAA0B,CACpCG,OAAO,CAAE,KAAKD,QADsB,CAA1B,CAAL,CAGJU,IAHI,CAGC,KAAKC,cAHN,CAAP,CAID,C,8BAED,wBAAeC,IAAf,CAAqB,CACnB,MAAOH,MAAK,WAAI,KAAKX,IAAT,cAA0B,CACpCe,MAAM,CAAE,OAD4B,CAEpCZ,OAAO,CAAE,KAAKD,QAFsB,CAGpCc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAH8B,CAA1B,CAAL,CAKJF,IALI,CAKC,KAAKC,cALN,CAAP,CAMD,C,4BAED,2BAAyB,IAAVM,OAAU,MAAVA,MAAU,CACvB,MAAOR,MAAK,WAAI,KAAKX,IAAT,qBAAiC,CAC3Ce,MAAM,CAAE,OADmC,CAE3CZ,OAAO,CAAE,KAAKD,QAF6B,CAG3Cc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,MAAM,CAANA,MAAF,CAAf,CAHqC,CAAjC,CAAL,CAKJP,IALI,CAKC,KAAKC,cALN,CAAP,CAMD,C,+BAED,0BAAkB,CAChB,MAAOF,MAAK,WAAI,KAAKX,IAAT,WAAuB,CACjCG,OAAO,CAAE,KAAKD,QADmB,CAAvB,CAAL,CAGJU,IAHI,CAGC,KAAKC,cAHN,CAAP,CAID,C,0BAED,oBAAWC,IAAX,CAAiB,CACf,MAAOH,MAAK,WAAI,KAAKX,IAAT,WAAuB,CACjCe,MAAM,CAAE,MADyB,CAEjCZ,OAAO,CAAE,KAAKD,QAFmB,CAGjCc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAH2B,CAAvB,CAAL,CAKJF,IALI,CAKC,KAAKC,cALN,CAAP,CAMD,C,0BAED,oBAAWO,EAAX,CAAe,CACb,MAAOT,MAAK,WAAI,KAAKX,IAAT,mBAAuBoB,EAAvB,EAA6B,CACvCL,MAAM,CAAE,QAD+B,CAEvCZ,OAAO,CAAE,KAAKD,QAFyB,CAA7B,CAAL,CAIJU,IAJI,CAIC,KAAKC,cAJN,CAAP,CAKD,C,wBAED,kBAASO,EAAT,CAAa,CACX,MAAOT,MAAK,WAAI,KAAKX,IAAT,mBAAuBoB,EAAvB,WAAmC,CAC7CL,MAAM,CAAE,KADqC,CAE7CZ,OAAO,CAAE,KAAKD,QAF+B,CAAnC,CAAL,CAIJU,IAJI,CAIC,KAAKC,cAJN,CAAP,CAKD,C,2BAED,qBAAYO,EAAZ,CAAgB,CACd,MAAOT,MAAK,WAAI,KAAKX,IAAT,mBAAuBoB,EAAvB,WAAmC,CAC7CL,MAAM,CAAE,QADqC,CAE7CZ,OAAO,CAAE,KAAKD,QAF+B,CAAnC,CAAL,CAIJU,IAJI,CAIC,KAAKC,cAJN,CAAP,CAKD,C,oCAED,8BAAqBO,EAArB,CAAyBC,OAAzB,CAAkC,CAChC,GAAI,CAACA,OAAL,CAAc,CACZ,MAAO,MAAKC,QAAL,CAAcF,EAAd,CAAP,CACD,CAFD,IAEO,CACL,MAAO,MAAKG,WAAL,CAAiBH,EAAjB,CAAP,CACD,CACF,C,mBAGH,MAAO,IAAMI,IAAG,CAAG,GAAI1B,IAAJ,CAAQ,CACzBG,GAAG,CAAE,8CADoB,CAEzBE,OAAO,CAAE,CACPsB,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFgB,CAAR,CAAZ"},"metadata":{},"sourceType":"module"}