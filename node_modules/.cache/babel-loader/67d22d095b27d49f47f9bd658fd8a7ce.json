{"ast":null,"code":"import{useState,useContext}from'react';import trashBinIcon from'../images/trash-bin-icon.svg';import likeIcon from'../images/like-icon.svg';import CurrentUserContext from'../contexts.js/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(props){var card=props.card,onCardClick=props.onCardClick,onRemoveClick=props.onRemoveClick,onCardLike=props.onCardLike;var cardId=card._id,link=card.link,name=card.name;var currentUser=useContext(CurrentUserContext);var isOwn=card.owner._id===currentUser._id;var isLiked=card.likes.filter(function(e){return e._id===currentUser._id;}).length!==0;function handleClick(){onCardClick(card);}function handleLike(){onCardLike(card,isLiked);}return/*#__PURE__*/_jsx(\"div\",{id:cardId,children:/*#__PURE__*/_jsxs(\"article\",{className:\"place-card\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:\"place-card__remove-button responsible-fade\",type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443.\",onClick:function onClick(){return onRemoveClick(card);},children:/*#__PURE__*/_jsx(\"img\",{src:trashBinIcon,alt:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443.\",className:\"place-card__remove-button-icon\"})}),/*#__PURE__*/_jsx(\"img\",{src:link,alt:name,className:\"place-card__photo\",onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"place-card__annotation\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"place-card__title\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"place-card__like\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u041C\\u043D\\u0435 \\u043D\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044F\",className:\"place-card__like-button responsible-fade responsible-fade_opacity_medium \".concat(isLiked&&'place-card__like-button_active'),onClick:handleLike,children:/*#__PURE__*/_jsx(\"img\",{src:likeIcon,alt:\"\\u043D\\u0440\\u0430\\u0432\\u0438\\u0442\\u0441\\u044F!\",className:\"place-card__like-icon\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"place-card__like-counter\",id:\"like-counter\",children:card.likes.length})]})]})]})});}","map":{"version":3,"names":["useState","useContext","trashBinIcon","likeIcon","CurrentUserContext","Card","props","card","onCardClick","onRemoveClick","onCardLike","cardId","_id","link","name","currentUser","isOwn","owner","isLiked","likes","filter","e","length","handleClick","handleLike"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/Card.js"],"sourcesContent":["import { useState, useContext } from 'react'\nimport trashBinIcon from '../images/trash-bin-icon.svg'\nimport likeIcon from '../images/like-icon.svg'\nimport CurrentUserContext from '../contexts.js/CurrentUserContext'\n\nexport default function Card(props) {\n  const { card, onCardClick, onRemoveClick, onCardLike } = props\n  const { _id: cardId, link, name } = card\n\n  const currentUser = useContext(CurrentUserContext)\n  const isOwn = card.owner._id === currentUser._id\n  const isLiked =\n    card.likes.filter((e) => e._id === currentUser._id).length !== 0\n\n  function handleClick() {\n    onCardClick(card)\n  }\n\n  function handleLike() {\n    onCardLike(card, isLiked)\n  }\n\n  return (\n    <div id={cardId}>\n      <article className=\"place-card\">\n        {isOwn && (\n          <button\n            className=\"place-card__remove-button responsible-fade\"\n            type=\"button\"\n            aria-label=\"Удалить карточку.\"\n            onClick={() => onRemoveClick(card)}\n          >\n            <img\n              src={trashBinIcon}\n              alt=\"Удалить карточку.\"\n              className=\"place-card__remove-button-icon\"\n            />\n          </button>\n        )}\n        <img\n          src={link}\n          alt={name}\n          className=\"place-card__photo\"\n          onClick={handleClick}\n        />\n        <div className=\"place-card__annotation\">\n          <h2 className=\"place-card__title\">{name}</h2>\n          <div className=\"place-card__like\">\n            <button\n              type=\"button\"\n              aria-label=\"Мне нравится\"\n              className={`place-card__like-button responsible-fade responsible-fade_opacity_medium ${\n                isLiked && 'place-card__like-button_active'\n              }`}\n              onClick={handleLike}\n            >\n              <img\n                src={likeIcon}\n                alt=\"нравится!\"\n                className=\"place-card__like-icon\"\n              />\n            </button>\n            <p className=\"place-card__like-counter\" id=\"like-counter\">\n              {card.likes.length}\n            </p>\n          </div>\n        </div>\n      </article>\n    </div>\n  )\n}\n"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,MAAOC,aAAP,KAAyB,8BAAzB,CACA,MAAOC,SAAP,KAAqB,yBAArB,CACA,MAAOC,mBAAP,KAA+B,mCAA/B,C,wFAEA,cAAe,SAASC,KAAT,CAAcC,KAAd,CAAqB,CAClC,GAAQC,KAAR,CAAyDD,KAAzD,CAAQC,IAAR,CAAcC,WAAd,CAAyDF,KAAzD,CAAcE,WAAd,CAA2BC,aAA3B,CAAyDH,KAAzD,CAA2BG,aAA3B,CAA0CC,UAA1C,CAAyDJ,KAAzD,CAA0CI,UAA1C,CACA,GAAaC,OAAb,CAAoCJ,IAApC,CAAQK,GAAR,CAAqBC,IAArB,CAAoCN,IAApC,CAAqBM,IAArB,CAA2BC,IAA3B,CAAoCP,IAApC,CAA2BO,IAA3B,CAEA,GAAMC,YAAW,CAAGd,UAAU,CAACG,kBAAD,CAA9B,CACA,GAAMY,MAAK,CAAGT,IAAI,CAACU,KAAL,CAAWL,GAAX,GAAmBG,WAAW,CAACH,GAA7C,CACA,GAAMM,QAAO,CACXX,IAAI,CAACY,KAAL,CAAWC,MAAX,CAAkB,SAACC,CAAD,QAAOA,EAAC,CAACT,GAAF,GAAUG,WAAW,CAACH,GAA7B,EAAlB,EAAoDU,MAApD,GAA+D,CADjE,CAGA,QAASC,YAAT,EAAuB,CACrBf,WAAW,CAACD,IAAD,CAAX,CACD,CAED,QAASiB,WAAT,EAAsB,CACpBd,UAAU,CAACH,IAAD,CAAOW,OAAP,CAAV,CACD,CAED,mBACE,YAAK,EAAE,CAAEP,MAAT,uBACE,iBAAS,SAAS,CAAC,YAAnB,WACGK,KAAK,eACJ,eACE,SAAS,CAAC,4CADZ,CAEE,IAAI,CAAC,QAFP,CAGE,aAAW,8FAHb,CAIE,OAAO,CAAE,yBAAMP,cAAa,CAACF,IAAD,CAAnB,EAJX,uBAME,YACE,GAAG,CAAEL,YADP,CAEE,GAAG,CAAC,8FAFN,CAGE,SAAS,CAAC,gCAHZ,EANF,EAFJ,cAeE,YACE,GAAG,CAAEW,IADP,CAEE,GAAG,CAAEC,IAFP,CAGE,SAAS,CAAC,mBAHZ,CAIE,OAAO,CAAES,WAJX,EAfF,cAqBE,aAAK,SAAS,CAAC,wBAAf,wBACE,WAAI,SAAS,CAAC,mBAAd,UAAmCT,IAAnC,EADF,cAEE,aAAK,SAAS,CAAC,kBAAf,wBACE,eACE,IAAI,CAAC,QADP,CAEE,aAAW,qEAFb,CAGE,SAAS,oFACPI,OAAO,EAAI,gCADJ,CAHX,CAME,OAAO,CAAEM,UANX,uBAQE,YACE,GAAG,CAAErB,QADP,CAEE,GAAG,CAAC,mDAFN,CAGE,SAAS,CAAC,uBAHZ,EARF,EADF,cAeE,UAAG,SAAS,CAAC,0BAAb,CAAwC,EAAE,CAAC,cAA3C,UACGI,IAAI,CAACY,KAAL,CAAWG,MADd,EAfF,GAFF,GArBF,GADF,EADF,CAgDD"},"metadata":{},"sourceType":"module"}