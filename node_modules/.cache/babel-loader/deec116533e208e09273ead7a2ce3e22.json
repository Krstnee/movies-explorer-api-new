{"ast":null,"code":"import _toConsumableArray from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import closeIcon from'../images/close-icon.svg';import burgerButton from'../images/burgerButton.svg';import{useState,useEffect}from'react';import{Routes,Route,useNavigate,Link}from'react-router-dom';import Main from'./Main';import Header from'./Header';import PopupWithForm from'./PopupWithForm';import ImagePopup from'./ImagePopup';import PopupLoading from'./PopupLoading';import api from'../utils/api';import CurrentUserContext from'../contexts.js/CurrentUserContext';import EditProfilePopup from'./EditProfilePopup';import AddPlacePopup from'./AddPlacePopup';import EditAvatarPopup from'./EditAvatarPopup';import EntryForm from'./EntryForm';import PopupAlert from'./PopupAlert';import{handleRegister,handleLogin,handleCheckAuth}from'../utils/authRequests';import ProtectedRoute from'./ProtectedRoute';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),alertPopupState=_useState8[0],setAlertPopupState=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),selectedCard=_useState10[0],setSelectedCard=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isLoading=_useState12[0],setIsLoading=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),cards=_useState14[0],setCards=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),cardToRemove=_useState16[0],setCardToRemove=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isSaving=_useState18[0],setIsSaving=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isLogged=_useState20[0],setIsLogged=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),currentUser=_useState22[0],setCurrentUser=_useState22[1];var navigate=useNavigate();useEffect(function(){if(!isLogged)return;setIsLoading(true);Promise.all([api.getInititalCards(),api.getUserInfo()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),cardsArr=_ref2[0],userData=_ref2[1];setCards(cardsArr);setCurrentUser(function(old){return _objectSpread(_objectSpread({},old),userData);});}).catch(function(err){return console.log(err);}).finally(function(){return setIsLoading(false);});},[isLogged]);useEffect(function(){if(!localStorage.getItem('token')){navigate('/sign-in');return;}setIsLoading(true);handleCheckAuth().then(function(res){setIsLogged(true);setCurrentUser(function(old){return _objectSpread(_objectSpread({},old),{},{email:res.data.email});});navigate('/');}).catch(function(err){return console.log(err);}).finally(function(){return setIsLoading(false);});},[]);function handleSubmitRegistration(email,password){setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{mode:'register'});});setIsLoading(true);handleRegister(password,email).then(function(res){if(res.data){setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:true});});navigate('./sign-in');}else setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:false});});}).catch(function(err){console.log(err);setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:false});});}).finally(function(){setIsLoading(false);setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{isOpen:true});});});}function handleSubmitLogin(email,password){setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{mode:'login'});});setIsLoading(true);handleLogin(password,email).then(function(res){if(!!res.token){setIsLogged(true);localStorage.setItem('token',res.token);navigate('./');setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:true});});}else setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:false});});}).catch(function(err){console.log(err);setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{success:false});});}).finally(function(){setIsLoading(false);setAlertPopupState(function(old){return _objectSpread(_objectSpread({},old),{},{isOpen:true});});});}function handleCardLike(card,isLiked){api.handleLikeServer(card,isLiked).then(function(newCard){return setCards(cards.map(function(e){return newCard._id===e._id?newCard:e;}));}).catch(function(err){return console.log(err);});}function handleCardDelete(e){setIsSaving(true);e.preventDefault();api.removeCard(cardToRemove).then(function(){setCards(function(oldCardsArr){return oldCardsArr.filter(function(cardItem){return cardItem._id!==cardToRemove._id;});});closeAllPopups();}).catch(function(err){return console.log(err);}).finally(function(){return setIsSaving(false);});}function handleCardClick(card){setSelectedCard(card);}function closeAllPopups(){setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setSelectedCard({});setCardToRemove({});setAlertPopupState(_objectSpread(_objectSpread({},alertPopupState),{},{isOpen:false}));}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleRemoveClick(card){setCardToRemove(card);}function handleUpdateUser(user){setIsSaving(true);api.setUserInfo(user).then(function(res){setCurrentUser(res);closeAllPopups();}).catch(function(err){return console.log(err);}).finally(function(){return setIsSaving(false);});}function handleAddCard(card){setIsSaving(true);api.createNewCard(card).then(function(res){setCards([res].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){return console.log(err);}).finally(function(){return setIsSaving(false);});}function handleLogout(){var token=localStorage.getItem('token');if(!token)return;localStorage.removeItem('token');setIsLogged(false);navigate('/sign-in');}function handleUpdateAvatar(url){setIsSaving(true);api.setAvatar(url).then(function(res){setCurrentUser(res);closeAllPopups();}).catch(function(err){return console.log(err);}).finally(function(){return setIsSaving(false);});}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[isLoading&&/*#__PURE__*/_jsx(PopupLoading,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page \".concat(isLoading&&'page_loading'),children:[/*#__PURE__*/_jsx(Header,{onClick:handleLogout}),/*#__PURE__*/_jsx(PopupAlert,{mode:alertPopupState.mode,isOpen:alertPopupState.isOpen,onClose:function onClose(){return closeAllPopups();},success:alertPopupState.success}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(EntryForm,{linkTarget:\"/sign-in\",linkText:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",buttonText:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",onSubmit:handleSubmitRegistration,title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",navigate:navigate})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(EntryForm,{linkTarget:\"/sign-up\",linkText:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",buttonText:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",onSubmit:handleSubmitLogin,title:\"\\u0412\\u0445\\u043E\\u0434\",navigate:navigate})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick,onRemoveClick:handleRemoveClick,cards:cards,onCardLike:handleCardLike,isLogged:isLogged,component:Main})})]}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,isSaving:isSaving,onEditAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,isSaving:isSaving,onEditAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddCard:handleAddCard,isSaving:isSaving}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"confirm\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",isOpen:cardToRemove.link,onClose:closeAllPopups,onSubmit:handleCardDelete,buttonText:\"\\u0414\\u0430\",isSaving:isSaving,isValid:true}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups})]})]})});}export default App;","map":{"version":3,"names":["closeIcon","burgerButton","useState","useEffect","Routes","Route","useNavigate","Link","Main","Header","PopupWithForm","ImagePopup","PopupLoading","api","CurrentUserContext","EditProfilePopup","AddPlacePopup","EditAvatarPopup","EntryForm","PopupAlert","handleRegister","handleLogin","handleCheckAuth","ProtectedRoute","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","alertPopupState","setAlertPopupState","selectedCard","setSelectedCard","isLoading","setIsLoading","cards","setCards","cardToRemove","setCardToRemove","isSaving","setIsSaving","isLogged","setIsLogged","currentUser","setCurrentUser","navigate","Promise","all","getInititalCards","getUserInfo","then","cardsArr","userData","old","catch","err","console","log","finally","localStorage","getItem","res","email","data","handleSubmitRegistration","password","mode","success","isOpen","handleSubmitLogin","token","setItem","handleCardLike","card","isLiked","handleLikeServer","newCard","map","e","_id","handleCardDelete","preventDefault","removeCard","oldCardsArr","filter","cardItem","closeAllPopups","handleCardClick","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleRemoveClick","handleUpdateUser","user","setUserInfo","handleAddCard","createNewCard","handleLogout","removeItem","handleUpdateAvatar","url","setAvatar","link"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/App.js"],"sourcesContent":["import closeIcon from '../images/close-icon.svg'\nimport burgerButton from '../images/burgerButton.svg'\nimport { useState, useEffect } from 'react'\nimport { Routes, Route, useNavigate, Link } from 'react-router-dom'\nimport Main from './Main'\nimport Header from './Header'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport PopupLoading from './PopupLoading'\nimport api from '../utils/api'\nimport CurrentUserContext from '../contexts.js/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport EntryForm from './EntryForm'\nimport PopupAlert from './PopupAlert'\nimport {\n  handleRegister,\n  handleLogin,\n  handleCheckAuth,\n} from '../utils/authRequests'\nimport ProtectedRoute from './ProtectedRoute'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\n  const [alertPopupState, setAlertPopupState] = useState({})\n  const [selectedCard, setSelectedCard] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n  const [cards, setCards] = useState([])\n  const [cardToRemove, setCardToRemove] = useState({})\n  const [isSaving, setIsSaving] = useState(false)\n  const [isLogged, setIsLogged] = useState(false)\n  const [currentUser, setCurrentUser] = useState({})\n \n\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if (!isLogged) return\n    setIsLoading(true)\n    Promise.all([api.getInititalCards(), api.getUserInfo()])\n      .then(([cardsArr, userData]) => {\n        setCards(cardsArr)\n        setCurrentUser((old) => {\n          return { ...old, ...userData }\n        })\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false))\n  }, [isLogged])\n\n  useEffect(() => {\n    if (!localStorage.getItem('token')) {\n      navigate('/sign-in')\n      return\n    }\n    setIsLoading(true)\n    handleCheckAuth()\n      .then((res) => {\n        setIsLogged(true)\n        setCurrentUser((old) => {\n          return { ...old, email: res.data.email }\n        })\n        navigate('/')\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false))\n  }, [])\n\n  function handleSubmitRegistration(email, password) {\n    setAlertPopupState((old) => ({ ...old, mode: 'register' }))\n    setIsLoading(true)\n    handleRegister(password, email)\n      .then((res) => {\n        if (res.data) {\n          setAlertPopupState((old) => ({ ...old, success: true }))\n          navigate('./sign-in')\n        } else setAlertPopupState((old) => ({ ...old, success: false }))\n      })\n      .catch((err) => {\n        console.log(err)\n        setAlertPopupState((old) => ({ ...old, success: false }))\n      })\n      .finally(() => {\n        setIsLoading(false)\n        setAlertPopupState((old) => ({ ...old, isOpen: true }))\n      })\n  }\n\n  function handleSubmitLogin(email, password) {\n    setAlertPopupState((old) => ({ ...old, mode: 'login' }))\n    setIsLoading(true)\n    handleLogin(password, email)\n      .then((res) => {\n        if (!!res.token) {\n          setIsLogged(true)\n          localStorage.setItem('token', res.token)\n          navigate('./')\n          setAlertPopupState((old) => ({ ...old, success: true }))\n        } else setAlertPopupState((old) => ({ ...old, success: false }))\n      })\n      .catch((err) => {\n        console.log(err)\n        setAlertPopupState((old) => ({ ...old, success: false }))\n      })\n      .finally(() => {\n        setIsLoading(false)\n        setAlertPopupState((old) => ({ ...old, isOpen: true }))\n      })\n  }\n\n  \n\n  function handleCardLike(card, isLiked) {\n    api\n      .handleLikeServer(card, isLiked)\n      .then((newCard) =>\n        setCards(cards.map((e) => (newCard._id === e._id ? newCard : e)))\n      )\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardDelete(e) {\n    setIsSaving(true)\n    e.preventDefault()\n    api\n      .removeCard(cardToRemove)\n      .then(() => {\n        setCards((oldCardsArr) =>\n          oldCardsArr.filter((cardItem) => cardItem._id !== cardToRemove._id)\n        )\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsSaving(false))\n  }\n\n\n  \n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setSelectedCard({})\n    setCardToRemove({})\n    setAlertPopupState({ ...alertPopupState, isOpen: false })\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleRemoveClick(card) {\n    setCardToRemove(card)\n  }\n\n  function handleUpdateUser(user) {\n    setIsSaving(true)\n    api\n      .setUserInfo(user)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsSaving(false))\n  }\n\n  function handleAddCard(card) {\n    setIsSaving(true)\n    api\n      .createNewCard(card)\n      .then((res) => {\n        setCards([res, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsSaving(false))\n  }\n  \n  function handleLogout() {\n    const token = localStorage.getItem('token')\n    if (!token) return\n    localStorage.removeItem('token')\n    setIsLogged(false)\n    navigate('/sign-in')\n  }\n\n  function handleUpdateAvatar(url) {\n    setIsSaving(true)\n    api\n      .setAvatar(url)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsSaving(false))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        {isLoading && <PopupLoading />}\n        <div className={`page ${isLoading && 'page_loading'}`}>\n          \n          <Header\n          onClick={handleLogout} \n          />\n          <PopupAlert\n            mode={alertPopupState.mode}\n            isOpen={alertPopupState.isOpen}\n            onClose={() => closeAllPopups()}\n            success={alertPopupState.success}\n          />\n          <Routes>\n            <Route\n              path=\"/sign-up\"\n              element={\n                <EntryForm\n                  linkTarget=\"/sign-in\"\n                  linkText=\"Войти\"\n                  buttonText=\"Зарегистрироваться\"\n                  onSubmit={handleSubmitRegistration}\n                  title=\"Регистрация\"\n                  navigate={navigate}\n                />\n              }\n            />\n            <Route\n              path=\"/sign-in\"\n              element={\n                <EntryForm\n                  linkTarget=\"/sign-up\"\n                  linkText=\"Регистрация\"\n                  buttonText=\"Войти\"\n                  onSubmit={handleSubmitLogin}\n                  title=\"Вход\"\n                  navigate={navigate}\n                />\n              }\n            />\n            <Route\n              path=\"/\"\n              element={\n                <ProtectedRoute\n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddPlaceClick}\n                  onEditAvatar={handleEditAvatarClick}\n                  onCardClick={handleCardClick}\n                  onRemoveClick={handleRemoveClick}\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  isLogged={isLogged}\n                  component={Main}\n                />\n              }\n            />\n          </Routes>\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isSaving={isSaving}\n            onEditAvatar={handleUpdateAvatar}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            isSaving={isSaving}\n            onEditAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddCard={handleAddCard}\n            isSaving={isSaving}\n          />\n          <PopupWithForm\n            name=\"confirm\"\n            title=\"Вы уверены?\"\n            isOpen={cardToRemove.link}\n            onClose={closeAllPopups}\n            onSubmit={handleCardDelete}\n            buttonText=\"Да\"\n            isSaving={isSaving}\n            isValid={true}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}