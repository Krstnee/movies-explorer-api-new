{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка ${res.status} ${res.statusText}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  setProfileInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._checkResponse);\n  }\n\n  setNewAvatar(_ref) {\n    let {\n      avatar\n    } = _ref;\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  _addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  _deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (!isLiked) {\n      return this._addLike(id);\n    } else {\n      return this._deleteLike(id);\n    }\n  }\n\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","_url","url","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","statusText","getUserInfo","fetch","then","setProfileInfo","data","method","body","JSON","stringify","setNewAvatar","avatar","getInitialCards","addNewCard","deleteCard","id","_addLike","_deleteLike","changeLikeCardStatus","isLiked","api","authorization"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json()\n    } else {\n      return Promise.reject(`Ошибка ${res.status} ${res.statusText}`)\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  setProfileInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._checkResponse)\n  }\n\n  setNewAvatar({ avatar }) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({ avatar })\n    })\n      .then(this._checkResponse)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._checkResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  _addLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._checkResponse)\n  }\n\n  _deleteLike(id) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (!isLiked) {\n      return this._addLike(id)\n    } else {\n      return this._deleteLike(id)\n    }\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json',\n  },\n})\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}