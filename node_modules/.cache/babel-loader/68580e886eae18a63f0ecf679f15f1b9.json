{"ast":null,"code":"export default class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getProfile() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  sendProfile(name, about) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._getResponse);\n  }\n\n  sendAvatar(avatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(this._getResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  sendNewCard(name, link) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._getResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n}\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","_url","url","_headers","headers","_getResponse","res","ok","json","Promise","reject","status","getProfile","fetch","then","sendProfile","name","about","method","body","JSON","stringify","sendAvatar","avatar","getInitialCards","sendNewCard","link","deleteCard","id","addLike","deleteLike","api","authorization"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["export default class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getProfile() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  sendProfile(name, about) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._getResponse);\n  }\n\n  sendAvatar(avatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then(this._getResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  sendNewCard(name, link) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._getResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  addLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._getResponse);\n  }\n}\n\nexport const api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-44/',\n  headers: {\n    authorization: '014df413-4e9e-4287-b23d-e54c9c172682',\n    'Content-Type': 'application/json',\n  },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}