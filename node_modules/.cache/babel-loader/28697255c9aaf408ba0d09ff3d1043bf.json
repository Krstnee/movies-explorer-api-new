{"ast":null,"code":"import _slicedToArray from\"C:/Users/crist/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'../images/logo.svg';import{useState,useEffect}from'react';import closeIcon from'../images/close-icon.svg';import burgerButton from'../images/burgerButton.svg';import{Routes,Route,Navigate,useNavigate,Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Header(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTopBarOpen=_useState2[0],setIsTopBarOpen=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),currentUser=_useState4[0],setCurrentUser=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLogged=_useState6[0],setIsLogged=_useState6[1];function handleLogout(){if(!localStorage.getItem('token'))return;localStorage.removeItem('token');setIsLogged(false);Navigate('/sign-in');}return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-bar \".concat(isTopBarOpen&&'top-bar_active'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__link\",children:currentUser.email}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"header__link header__link_style_fade responsible-fade\",onClick:handleLogout,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\\u041B\\u043E\\u0433\\u043E\\u0442\\u0438\\u043F \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435\\u044F \\u041C\\u0435\\u0441\\u0442\\u043E.\",className:\"header__logo\"}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header__user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__link\",children:currentUser.email}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"header__link header__link_style_fade responsible-fade\",onClick:handleLogout,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"header__button responsible-fade\",onClick:function onClick(){return setIsTopBarOpen(!isTopBarOpen);},children:/*#__PURE__*/_jsx(\"img\",{className:\"header__button-picture \".concat(isTopBarOpen&&'header__button-picture_small'),src:isTopBarOpen?closeIcon:burgerButton})})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"header__link responsible-fade\",children:'Войти'})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"header__link responsible-fade\",children:'Зарегистрироваться'})})]})]});}","map":{"version":3,"names":["logo","useState","useEffect","closeIcon","burgerButton","Routes","Route","Navigate","useNavigate","Link","Header","props","isTopBarOpen","setIsTopBarOpen","currentUser","setCurrentUser","isLogged","setIsLogged","handleLogout","localStorage","getItem","removeItem","email"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/Header.js"],"sourcesContent":[" import logo from '../images/logo.svg'\n import { useState, useEffect } from 'react'\n import closeIcon from '../images/close-icon.svg'\nimport burgerButton from '../images/burgerButton.svg'\nimport { Routes, Route, Navigate, useNavigate, Link } from 'react-router-dom'\n\n\n\nexport default function Header(props) {\n  const [isTopBarOpen, setIsTopBarOpen] = useState(false)\nconst [currentUser, setCurrentUser] = useState({})\nconst [isLogged, setIsLogged] = useState(false)\n\nfunction handleLogout() {\n  if (!localStorage.getItem('token')) return\n  localStorage.removeItem('token')\n  setIsLogged(false)\n  Navigate('/sign-in')\n}\n\n  return (\n    <header className=\"header\">\n      <div className={`top-bar ${isTopBarOpen && 'top-bar_active'}`}>\n            <span className=\"header__link\">{currentUser.email}</span>\n            <a\n              href=\"#\"\n              className=\"header__link header__link_style_fade responsible-fade\"\n              onClick={handleLogout}\n            >\n              Выйти\n            </a>\n          </div>\n      <img\n        src={logo}\n        alt=\"Логотип приложениея Место.\"\n        className=\"header__logo\"\n      />\n      <Routes>\n              <Route\n                path=\"/\"\n                element={\n                  <>\n                    <div className=\"header__user-info\">\n                      <span className=\"header__link\">{currentUser.email}</span>\n                      <a\n                        href=\"#\"\n                        className=\"header__link header__link_style_fade responsible-fade\"\n                        onClick={handleLogout}\n                      >\n                        Выйти\n                      </a>\n                    </div>\n                    <button\n                      className=\"header__button responsible-fade\"\n                      onClick={() => setIsTopBarOpen(!isTopBarOpen)}\n                    >\n                      <img\n                        className={`header__button-picture ${\n                          isTopBarOpen && 'header__button-picture_small'\n                        }`}\n                        src={isTopBarOpen ? closeIcon : burgerButton}\n                      />\n                    </button>\n                  </>\n                }\n              />\n              <Route\n                path=\"/sign-up\"\n                element={\n                  <Link to=\"/sign-in\" className=\"header__link responsible-fade\">\n                    {'Войти'}\n                  </Link>\n                }\n              />\n              <Route\n                path=\"/sign-in\"\n                element={\n                  <Link to=\"/sign-up\" className=\"header__link responsible-fade\">\n                    {'Зарегистрироваться'}\n                  </Link>\n                }\n              />\n            </Routes>\n    </header>\n  )\n}\n"],"mappings":"gIAAC,MAAOA,KAAP,KAAiB,oBAAjB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,UAAP,KAAsB,0BAAtB,CACD,MAAOC,aAAP,KAAyB,4BAAzB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,CAAkCC,WAAlC,CAA+CC,IAA/C,KAA2D,kBAA3D,C,6IAIA,cAAe,SAASC,OAAT,CAAgBC,KAAhB,CAAuB,CACpC,cAAwCV,QAAQ,CAAC,KAAD,CAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eACF,eAAsCZ,QAAQ,CAAC,EAAD,CAA9C,yCAAOa,WAAP,eAAoBC,cAApB,eACA,eAAgCd,QAAQ,CAAC,KAAD,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eAEA,QAASC,aAAT,EAAwB,CACtB,GAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,CAAoC,OACpCD,YAAY,CAACE,UAAb,CAAwB,OAAxB,EACAJ,WAAW,CAAC,KAAD,CAAX,CACAV,QAAQ,CAAC,UAAD,CAAR,CACD,CAEC,mBACE,gBAAQ,SAAS,CAAC,QAAlB,wBACE,aAAK,SAAS,mBAAaK,YAAY,EAAI,gBAA7B,CAAd,wBACM,aAAM,SAAS,CAAC,cAAhB,UAAgCE,WAAW,CAACQ,KAA5C,EADN,cAEM,UACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAEJ,YAHX,4CAFN,GADF,cAWE,YACE,GAAG,CAAElB,IADP,CAEE,GAAG,CAAC,+IAFN,CAGE,SAAS,CAAC,cAHZ,EAXF,cAgBE,MAAC,MAAD,yBACQ,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cACL,wCACE,aAAK,SAAS,CAAC,mBAAf,wBACE,aAAM,SAAS,CAAC,cAAhB,UAAgCc,WAAW,CAACQ,KAA5C,EADF,cAEE,UACE,IAAI,CAAC,GADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAEJ,YAHX,4CAFF,GADF,cAWE,eACE,SAAS,CAAC,iCADZ,CAEE,OAAO,CAAE,yBAAML,gBAAe,CAAC,CAACD,YAAF,CAArB,EAFX,uBAIE,YACE,SAAS,kCACPA,YAAY,EAAI,8BADT,CADX,CAIE,GAAG,CAAEA,YAAY,CAAGT,SAAH,CAAeC,YAJlC,EAJF,EAXF,GAHJ,EADR,cA6BQ,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,+BAA9B,UACG,OADH,EAHJ,EA7BR,cAqCQ,KAAC,KAAD,EACE,IAAI,CAAC,UADP,CAEE,OAAO,cACL,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,+BAA9B,UACG,oBADH,EAHJ,EArCR,GAhBF,GADF,CAiED"},"metadata":{},"sourceType":"module"}