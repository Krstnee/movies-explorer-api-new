{"ast":null,"code":"import{useState,useContext,useEffect}from'react';import PopupWithForm from'./PopupWithForm';import CurrentUserContext from'../contexts.js/CurrentUserContext';import Input from'./Input';import useFormAndValidation from'../hooks/useFormAndValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(props){var isOpen=props.isOpen,_onClose=props.onClose,onUpdateUser=props.onUpdateUser,isSaving=props.isSaving;var currentUser=useContext(CurrentUserContext);var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,resetForm=_useFormAndValidation.resetForm;useEffect(function(){resetForm({userName:currentUser.name,userAbout:currentUser.about});},[isOpen]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:values.userName,about:values.userAbout});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:function onClose(){_onClose();},buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,isSaving:isSaving,isValid:isValid,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"userName\",placeholder:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\",value:values.userName?values.userName:'',onChange:handleChange,errorText:errors.userName}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"userAbout\",placeholder:\"\\u0420\\u0430\\u0441\\u0441\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u043E \\u0441\\u0435\\u0431\\u0435\",value:values.userAbout?values.userAbout:'',onChange:handleChange,errorText:errors.userAbout})]});}","map":{"version":3,"names":["useState","useContext","useEffect","PopupWithForm","CurrentUserContext","Input","useFormAndValidation","EditProfilePopup","props","isOpen","onClose","onUpdateUser","isSaving","currentUser","values","handleChange","errors","isValid","resetForm","userName","name","userAbout","about","handleSubmit","e","preventDefault"],"sources":["C:/Users/crist/dev/mesto-react/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport CurrentUserContext from '../contexts.js/CurrentUserContext'\nimport Input from './Input'\nimport useFormAndValidation from '../hooks/useFormAndValidation'\n\nexport default function EditProfilePopup(props) {\n  const { isOpen, onClose, onUpdateUser, isSaving } = props\n\n  const currentUser = useContext(CurrentUserContext)\n\n  const { values, handleChange, errors, isValid, resetForm } =\n    useFormAndValidation()\n\n  useEffect(() => {\n    resetForm({ userName: currentUser.name, userAbout: currentUser.about })\n  }, [isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateUser({ name: values.userName, about: values.userAbout })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={() => {\n        onClose()\n      }}\n      buttonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isValid={isValid}\n    >\n      <Input\n        type=\"text\"\n        name=\"userName\"\n        placeholder=\"Имя пользователя\"\n        value={values.userName ? values.userName : ''}\n        onChange={handleChange}\n        errorText={errors.userName}\n      />\n      <Input\n        type=\"text\"\n        name=\"userAbout\"\n        placeholder=\"Расскажите о себе\"\n        value={values.userAbout ? values.userAbout : ''}\n        onChange={handleChange}\n        errorText={errors.userAbout}\n      />\n    </PopupWithForm>\n  )\n}\n"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,UAAnB,CAA+BC,SAA/B,KAAgD,OAAhD,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,mBAAP,KAA+B,mCAA/B,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAOC,qBAAP,KAAiC,+BAAjC,C,wFAEA,cAAe,SAASC,iBAAT,CAA0BC,KAA1B,CAAiC,CAC9C,GAAQC,OAAR,CAAoDD,KAApD,CAAQC,MAAR,CAAgBC,QAAhB,CAAoDF,KAApD,CAAgBE,OAAhB,CAAyBC,YAAzB,CAAoDH,KAApD,CAAyBG,YAAzB,CAAuCC,QAAvC,CAAoDJ,KAApD,CAAuCI,QAAvC,CAEA,GAAMC,YAAW,CAAGZ,UAAU,CAACG,kBAAD,CAA9B,CAEA,0BACEE,oBAAoB,EADtB,CAAQQ,MAAR,uBAAQA,MAAR,CAAgBC,YAAhB,uBAAgBA,YAAhB,CAA8BC,MAA9B,uBAA8BA,MAA9B,CAAsCC,OAAtC,uBAAsCA,OAAtC,CAA+CC,SAA/C,uBAA+CA,SAA/C,CAGAhB,SAAS,CAAC,UAAM,CACdgB,SAAS,CAAC,CAAEC,QAAQ,CAAEN,WAAW,CAACO,IAAxB,CAA8BC,SAAS,CAAER,WAAW,CAACS,KAArD,CAAD,CAAT,CACD,CAFQ,CAEN,CAACb,MAAD,CAFM,CAAT,CAIA,QAASc,aAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GACAd,YAAY,CAAC,CAAES,IAAI,CAAEN,MAAM,CAACK,QAAf,CAAyBG,KAAK,CAAER,MAAM,CAACO,SAAvC,CAAD,CAAZ,CACD,CAED,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,cADP,CAEE,KAAK,CAAC,2HAFR,CAGE,MAAM,CAAEZ,MAHV,CAIE,OAAO,CAAE,kBAAM,CACbC,QAAO,GACR,CANH,CAOE,UAAU,CAAC,wDAPb,CAQE,QAAQ,CAAEa,YARZ,CASE,QAAQ,CAAEX,QATZ,CAUE,OAAO,CAAEK,OAVX,wBAYE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,6FAHd,CAIE,KAAK,CAAEH,MAAM,CAACK,QAAP,CAAkBL,MAAM,CAACK,QAAzB,CAAoC,EAJ7C,CAKE,QAAQ,CAAEJ,YALZ,CAME,SAAS,CAAEC,MAAM,CAACG,QANpB,EAZF,cAoBE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,WAFP,CAGE,WAAW,CAAC,8FAHd,CAIE,KAAK,CAAEL,MAAM,CAACO,SAAP,CAAmBP,MAAM,CAACO,SAA1B,CAAsC,EAJ/C,CAKE,QAAQ,CAAEN,YALZ,CAME,SAAS,CAAEC,MAAM,CAACK,SANpB,EApBF,GADF,CA+BD"},"metadata":{},"sourceType":"module"}